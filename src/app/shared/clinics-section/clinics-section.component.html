<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Tajawal:wght@300;400;500;600;700&display=swap">

<section class="clinics-section" dir="rtl">
  <div class="clinics-container">
    <div class="section-header">
      <span class="section-badge">{{ getTranslation('clinics_badge') }}</span>
      <h2 class="section-title">{{ getTranslation('clinics_title') }}</h2>
      <p class="section-description">{{ getTranslation('clinics_subtitle') }}</p>
    </div>

    <div class="clinics-grid">
      <div
        *ngFor="let clinic of clinics; trackBy: trackByClinicId"
        class="clinic-card"
        [attr.data-clinic]="clinic.id"
      >
        <div class="clinic-card-inner">
          <!-- Card Header -->
          <div class="clinic-header">
            <div class="clinic-icon" [style.background]="clinic.gradient">
              <span class="icon">{{ clinic.icon }}</span>
            </div>
            <div class="clinic-badge">
              <span class="badge-text">{{ getTranslation('available_now') }}</span>
            </div>
          </div>

          <!-- Card Content -->
          <div class="clinic-content">
            <h3 class="clinic-name">{{ clinic.name }}</h3>
            <h4 class="clinic-name-en">{{ clinic.nameEn }}</h4>
            <p class="clinic-description">{{ clinic.description }}</p>

            <!-- Specialties List -->
            <div class="services-container">
              <div class="services-header">
                <span class="services-label">{{ getTranslation('available_services') }}</span>
              </div>
              <div class="services-list">
                <span
                  *ngFor="let specialty of clinic.specialties.slice(0, 3)"
                  class="service-tag"
                  [style.borderColor]="clinic.color"
                >
                  {{ specialty }}
                </span>
                <span
                  *ngIf="clinic.specialties.length > 3"
                  class="service-tag more-services"
                  [style.borderColor]="clinic.color"
                >
                  +{{ clinic.specialties.length - 3 }} {{ getTranslation('more') }}
                </span>
              </div>
            </div>
          </div>

          <!-- Card Actions -->
          <div class="clinic-actions">
            <button
              class="btn-primary"
              [style.background]="clinic.gradient"
              (click)="bookAppointment(clinic.id); $event.stopPropagation()"
              [attr.aria-label]="getTranslation('clinic_book_button')"
            >
              <span class="btn-icon">üìÖ</span>
              <span class="btn-text">{{ getTranslation('clinic_book_button') }}</span>
            </button>
            <button
              class="btn-secondary"
              (click)="navigateToClinicDetails(clinic.name); $event.stopPropagation()"
              [attr.aria-label]="getTranslation('more_info')"
            >
              <span class="btn-icon">‚ÑπÔ∏è</span>
              <span class="btn-text">{{ getTranslation('more_info') }}</span>
            </button>
          </div>

          <!-- Background Pattern -->
          <div class="card-bg-pattern" [attr.data-pattern]="clinic.bgPattern"></div>

          <!-- Hover Effect Overlay -->
          <div class="card-overlay" [style.background]="clinic.gradient"></div>
        </div>
      </div>
    </div>

    <div class="clinics-button-container">
      <button
        class="clinics-btn"
        (click)="navigateToAllClinics()"
        [attr.aria-label]="getTranslation('all_clinics_button')"
      >
        <span>{{ getTranslation('all_clinics_button') }}</span>
      </button>
    </div>
  </div>
</section>
